import{c as lt}from"./index.js";import{p as Qe,a as se,k as X,o as C,l as D,i as oe,t as fe,q as Ie,r as Oe,B as ne,h as q,j as Se,c as _r,f as vt,L as Mr,w as qe,x as Dt,d as kr,s as ue,b as ye,z as Tr,g as l,O as ft,A as Pr,e as te,n as V,y as Ne,E as Or,C as Cr,F as Yr}from"./vendor.js";import{C as le,r as Nr,a as Er}from"./charts.js";import{S as Wr,I as ht,a as ke}from"./Input.js";import{F as Fe}from"./FormField.js";le.register(...Nr);const xt=6048e5,Fr=864e5,xe=6e4,_e=36e5,Lr=1e3,mt=Symbol.for("constructDateFrom");function N(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&mt in n?n[mt](e):n instanceof Date?new n.constructor(e):new Date(e)}function w(n,e){return N(e||n,n)}function Ee(n,e,t){const r=w(n,t?.in);return isNaN(e)?N(t?.in||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Be(n,e,t){const r=w(n,t?.in);if(isNaN(e))return N(n,NaN);if(!e)return r;const a=r.getDate(),s=N(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const u=s.getDate();return a>=u?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function Xe(n,e,t){return N(n,+w(n)+e)}function Hr(n,e,t){return Xe(n,e*_e)}let Ir={};function ie(){return Ir}function K(n,e){const t=ie(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=w(n,e?.in),s=a.getDay(),u=(s<r?7:0)+s-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function he(n,e){return K(n,{...e,weekStartsOn:1})}function _t(n,e){const t=w(n,e?.in),r=t.getFullYear(),a=N(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=he(a),u=N(t,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const f=he(u);return t.getTime()>=s.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function Ce(n){const e=w(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ce(n,...e){const t=N.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Ae(n,e){const t=w(n,e?.in);return t.setHours(0,0,0,0),t}function Mt(n,e,t){const[r,a]=ce(t?.in,n,e),s=Ae(r),u=Ae(a),f=+s-Ce(s),g=+u-Ce(u);return Math.round((f-g)/Fr)}function qr(n,e){const t=_t(n,e),r=N(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),he(r)}function Ar(n,e,t){const r=w(n,t?.in);return r.setTime(r.getTime()+e*xe),r}function Rr(n,e,t){return Be(n,e*3,t)}function $r(n,e,t){return Xe(n,e*1e3)}function Qr(n,e,t){return Ee(n,e*7,t)}function Sr(n,e,t){return Be(n,e*12,t)}function De(n,e){const t=+w(n)-+w(e);return t<0?-1:t>0?1:t}function Br(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function kt(n){return!(!Br(n)&&typeof n!="number"||isNaN(+w(n)))}function Xr(n,e,t){const[r,a]=ce(t?.in,n,e),s=r.getFullYear()-a.getFullYear(),u=r.getMonth()-a.getMonth();return s*12+u}function Gr(n,e,t){const[r,a]=ce(t?.in,n,e);return r.getFullYear()-a.getFullYear()}function Tt(n,e,t){const[r,a]=ce(t?.in,n,e),s=gt(r,a),u=Math.abs(Mt(r,a));r.setDate(r.getDate()-s*u);const f=+(gt(r,a)===-s),g=s*(u-f);return g===0?0:g}function gt(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Me(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function jr(n,e,t){const[r,a]=ce(t?.in,n,e),s=(+r-+a)/_e;return Me(t?.roundingMethod)(s)}function Ge(n,e){return+w(n)-+w(e)}function zr(n,e,t){const r=Ge(n,e)/xe;return Me(t?.roundingMethod)(r)}function Pt(n,e){const t=w(n,e?.in);return t.setHours(23,59,59,999),t}function Ot(n,e){const t=w(n,e?.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ur(n,e){const t=w(n,e?.in);return+Pt(t,e)==+Ot(t,e)}function Ct(n,e,t){const[r,a,s]=ce(t?.in,n,n,e),u=De(a,s),f=Math.abs(Xr(a,s));if(f<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-u*f);let g=De(a,s)===-u;Ur(r)&&f===1&&De(r,s)===1&&(g=!1);const h=u*(f-+g);return h===0?0:h}function Vr(n,e,t){const r=Ct(n,e,t)/3;return Me(t?.roundingMethod)(r)}function Zr(n,e,t){const r=Ge(n,e)/1e3;return Me(t?.roundingMethod)(r)}function Jr(n,e,t){const r=Tt(n,e,t)/7;return Me(t?.roundingMethod)(r)}function Kr(n,e,t){const[r,a]=ce(t?.in,n,e),s=De(r,a),u=Math.abs(Gr(r,a));r.setFullYear(1584),a.setFullYear(1584);const f=De(r,a)===-s,g=s*(u-+f);return g===0?0:g}function en(n,e){const t=w(n,e?.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function tn(n,e){const t=w(n,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function rn(n,e){const t=w(n,e?.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Yt(n,e){const t=w(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function nn(n,e){const t=w(n,e?.in);return t.setMinutes(59,59,999),t}function an(n,e){const t=ie(),r=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=w(n,e?.in),s=a.getDay(),u=(s<r?-7:0)+6-(s-r);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}function sn(n,e){const t=w(n,e?.in);return t.setSeconds(59,999),t}function on(n,e){const t=w(n,e?.in),r=t.getMonth(),a=r-r%3+3;return t.setMonth(a,0),t.setHours(23,59,59,999),t}function cn(n,e){const t=w(n,e?.in);return t.setMilliseconds(999),t}const un={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dn=(n,e,t)=>{let r;const a=un[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Le(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const ln={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mn={date:Le({formats:ln,defaultWidth:"full"}),time:Le({formats:fn,defaultWidth:"full"}),dateTime:Le({formats:hn,defaultWidth:"full"})},gn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wn=(n,e,t,r)=>gn[n];function pe(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,f=t?.width?String(t.width):u;a=n.formattingValues[f]||n.formattingValues[u]}else{const u=n.defaultWidth,f=t?.width?String(t.width):n.defaultWidth;a=n.values[f]||n.values[u]}const s=n.argumentCallback?n.argumentCallback(e):e;return a[s]}}const yn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_n=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Mn={ordinalNumber:_n,era:pe({values:yn,defaultWidth:"wide"}),quarter:pe({values:pn,defaultWidth:"wide",argumentCallback:n=>n-1}),month:pe({values:bn,defaultWidth:"wide"}),day:pe({values:vn,defaultWidth:"wide"}),dayPeriod:pe({values:Dn,defaultWidth:"wide",formattingValues:xn,defaultFormattingWidth:"wide"})};function be(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(a);if(!s)return null;const u=s[0],f=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],g=Array.isArray(f)?Tn(f,T=>T.test(u)):kn(f,T=>T.test(u));let h;h=n.valueCallback?n.valueCallback(g):g,h=t.valueCallback?t.valueCallback(h):h;const p=e.slice(u.length);return{value:h,rest:p}}}function kn(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Tn(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Pn(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],s=e.match(n.parsePattern);if(!s)return null;let u=n.valueCallback?n.valueCallback(s[0]):s[0];u=t.valueCallback?t.valueCallback(u):u;const f=e.slice(a.length);return{value:u,rest:f}}}const On=/^(\d+)(th|st|nd|rd)?/i,Cn=/\d+/i,Yn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nn={any:[/^b/i,/^(a|c)/i]},En={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wn={any:[/1/i,/2/i,/3/i,/4/i]},Fn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ln={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},In={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},An={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rn={ordinalNumber:Pn({matchPattern:On,parsePattern:Cn,valueCallback:n=>parseInt(n,10)}),era:be({matchPatterns:Yn,defaultMatchWidth:"wide",parsePatterns:Nn,defaultParseWidth:"any"}),quarter:be({matchPatterns:En,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any",valueCallback:n=>n+1}),month:be({matchPatterns:Fn,defaultMatchWidth:"wide",parsePatterns:Ln,defaultParseWidth:"any"}),day:be({matchPatterns:Hn,defaultMatchWidth:"wide",parsePatterns:In,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:qn,defaultMatchWidth:"any",parsePatterns:An,defaultParseWidth:"any"})},Nt={code:"en-US",formatDistance:dn,formatLong:mn,formatRelative:wn,localize:Mn,match:Rn,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $n(n,e){const t=w(n,e?.in);return Mt(t,Yt(t))+1}function Et(n,e){const t=w(n,e?.in),r=+he(t)-+qr(t);return Math.round(r/xt)+1}function je(n,e){const t=w(n,e?.in),r=t.getFullYear(),a=ie(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=N(e?.in||n,0);u.setFullYear(r+1,0,s),u.setHours(0,0,0,0);const f=K(u,e),g=N(e?.in||n,0);g.setFullYear(r,0,s),g.setHours(0,0,0,0);const h=K(g,e);return+t>=+f?r+1:+t>=+h?r:r-1}function Qn(n,e){const t=ie(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=je(n,e),s=N(e?.in||n,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),K(s,e)}function Wt(n,e){const t=w(n,e?.in),r=+K(t,e)-+Qn(t,e);return Math.round(r/xt)+1}function k(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const re={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return k(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):k(t+1,2)},d(n,e){return k(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return k(n.getHours()%12||12,e.length)},H(n,e){return k(n.getHours(),e.length)},m(n,e){return k(n.getMinutes(),e.length)},s(n,e){return k(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return k(a,e.length)}},de={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wt={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return re.y(n,e)},Y:function(n,e,t,r){const a=je(n,r),s=a>0?a:1-a;if(e==="YY"){const u=s%100;return k(u,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):k(s,e.length)},R:function(n,e){const t=_t(n);return k(t,e.length)},u:function(n,e){const t=n.getFullYear();return k(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return k(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return k(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return re.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return k(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=Wt(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):k(a,e.length)},I:function(n,e,t){const r=Et(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):k(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):re.d(n,e)},D:function(n,e,t){const r=$n(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):k(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return k(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return k(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return k(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=de.noon:r===0?a=de.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=de.evening:r>=12?a=de.afternoon:r>=4?a=de.morning:a=de.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return re.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):re.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):k(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):k(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):re.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):re.s(n,e)},S:function(n,e){return re.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return pt(r);case"XXXX":case"XX":return ae(r);case"XXXXX":case"XXX":default:return ae(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return pt(r);case"xxxx":case"xx":return ae(r);case"xxxxx":case"xxx":default:return ae(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yt(r,":");case"OOOO":default:return"GMT"+ae(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yt(r,":");case"zzzz":default:return"GMT"+ae(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return k(r,e.length)},T:function(n,e,t){return k(+n,e.length)}};function yt(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),s=r%60;return s===0?t+String(a):t+String(a)+e+k(s,2)}function pt(n,e){return n%60===0?(n>0?"-":"+")+k(Math.abs(n)/60,2):ae(n,e)}function ae(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=k(Math.trunc(r/60),2),s=k(r%60,2);return t+a+e+s}const bt=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ft=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Sn=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return bt(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",bt(r,e)).replace("{{time}}",Ft(a,e))},Re={p:Ft,P:Sn},Bn=/^D+$/,Xn=/^Y+$/,Gn=["D","DD","YY","YYYY"];function Lt(n){return Bn.test(n)}function Ht(n){return Xn.test(n)}function $e(n,e,t){const r=jn(n,e,t);if(console.warn(r),Gn.includes(n))throw new RangeError(r)}function jn(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Un=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vn=/^'([^]*?)'?$/,Zn=/''/g,Jn=/[a-zA-Z]/;function Kn(n,e,t){const r=ie(),a=t?.locale??r.locale??Nt,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,f=w(n,t?.in);if(!kt(f))throw new RangeError("Invalid time value");let g=e.match(Un).map(p=>{const T=p[0];if(T==="p"||T==="P"){const S=Re[T];return S(p,a.formatLong)}return p}).join("").match(zn).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const T=p[0];if(T==="'")return{isToken:!1,value:ea(p)};if(wt[T])return{isToken:!0,value:p};if(T.match(Jn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(g=a.localize.preprocessor(f,g));const h={firstWeekContainsDate:s,weekStartsOn:u,locale:a};return g.map(p=>{if(!p.isToken)return p.value;const T=p.value;(!t?.useAdditionalWeekYearTokens&&Ht(T)||!t?.useAdditionalDayOfYearTokens&&Lt(T))&&$e(T,e,String(n));const S=wt[T[0]];return S(f,T,a.localize,h)}).join("")}function ea(n){const e=n.match(Vn);return e?e[1].replace(Zn,"'"):n}function ta(){return Object.assign({},ie())}function ra(n,e){const t=w(n,e?.in).getDay();return t===0?7:t}function na(n,e){const t=aa(e)?new e(0):N(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function aa(n){return typeof n=="function"&&n.prototype?.constructor===n}const sa=10;class It{subPriority=0;validate(e,t){return!0}}class oa extends It{constructor(e,t,r,a,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class ia extends It{priority=sa;subPriority=-1;constructor(e,t){super(),this.context=e||(r=>N(t,r))}set(e,t){return t.timestampIsSet?e:N(e,na(e,this.context))}}class _{run(e,t,r,a){const s=this.parse(e,t,r,a);return s?{setter:new oa(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class ca extends _{priority=140;parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const W={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Z={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function F(n,e){return n&&{value:e(n.value),rest:n.rest}}function Y(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function J(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:r*(a*_e+s*xe+u*Lr),rest:e.slice(t[0].length)}}function qt(n){return Y(W.anyDigitsSigned,n)}function E(n,e){switch(n){case 1:return Y(W.singleDigit,e);case 2:return Y(W.twoDigits,e);case 3:return Y(W.threeDigits,e);case 4:return Y(W.fourDigits,e);default:return Y(new RegExp("^\\d{1,"+n+"}"),e)}}function Ye(n,e){switch(n){case 1:return Y(W.singleDigitSigned,e);case 2:return Y(W.twoDigitsSigned,e);case 3:return Y(W.threeDigitsSigned,e);case 4:return Y(W.fourDigitsSigned,e);default:return Y(new RegExp("^-?\\d{1,"+n+"}"),e)}}function ze(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function At(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const s=r+50,u=Math.trunc(s/100)*100,f=n>=s%100;a=n+u-(f?100:0)}return t?a:1-a}function Rt(n){return n%400===0||n%4===0&&n%100!==0}class ua extends _{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return F(E(4,e),a);case"yo":return F(r.ordinalNumber(e,{unit:"year"}),a);default:return F(E(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const u=At(r.year,a);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class da extends _{priority=130;parse(e,t,r){const a=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return F(E(4,e),a);case"Yo":return F(r.ordinalNumber(e,{unit:"year"}),a);default:return F(E(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const s=je(e,a);if(r.isTwoDigitYear){const f=At(r.year,s);return e.setFullYear(f,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),K(e,a)}const u=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(u,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),K(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class la extends _{priority=130;parse(e,t){return Ye(t==="R"?4:t.length,e)}set(e,t,r){const a=N(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),he(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class fa extends _{priority=130;parse(e,t){return Ye(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class ha extends _{priority=120;parse(e,t,r){switch(t){case"Q":case"QQ":return E(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class ma extends _{priority=120;parse(e,t,r){switch(t){case"q":case"qq":return E(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class ga extends _{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"M":return F(Y(W.month,e),a);case"MM":return F(E(2,e),a);case"Mo":return F(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class wa extends _{priority=110;parse(e,t,r){const a=s=>s-1;switch(t){case"L":return F(Y(W.month,e),a);case"LL":return F(E(2,e),a);case"Lo":return F(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function ya(n,e,t){const r=w(n,t?.in),a=Wt(r,t)-e;return r.setDate(r.getDate()-a*7),w(r,t?.in)}class pa extends _{priority=100;parse(e,t,r){switch(t){case"w":return Y(W.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return E(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return K(ya(e,r,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function ba(n,e,t){const r=w(n,t?.in),a=Et(r,t)-e;return r.setDate(r.getDate()-a*7),r}class va extends _{priority=100;parse(e,t,r){switch(t){case"I":return Y(W.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return E(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return he(ba(e,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Da=[31,28,31,30,31,30,31,31,30,31,30,31],xa=[31,29,31,30,31,30,31,31,30,31,30,31];class _a extends _{priority=90;subPriority=1;parse(e,t,r){switch(t){case"d":return Y(W.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return E(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=Rt(r),s=e.getMonth();return a?t>=1&&t<=xa[s]:t>=1&&t<=Da[s]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ma extends _{priority=90;subpriority=1;parse(e,t,r){switch(t){case"D":case"DD":return Y(W.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return E(t.length,e)}}validate(e,t){const r=e.getFullYear();return Rt(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ue(n,e,t){const r=ie(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=w(n,t?.in),u=s.getDay(),g=(e%7+7)%7,h=7-a,p=e<0||e>6?e-(u+h)%7:(g+h)%7-(u+h)%7;return Ee(s,p,t)}class ka extends _{priority=90;parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ue(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class Ta extends _{priority=90;parse(e,t,r,a){const s=u=>{const f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return F(E(t.length,e),s);case"eo":return F(r.ordinalNumber(e,{unit:"day"}),s);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ue(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Pa extends _{priority=90;parse(e,t,r,a){const s=u=>{const f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return F(E(t.length,e),s);case"co":return F(r.ordinalNumber(e,{unit:"day"}),s);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=Ue(e,r,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Oa(n,e,t){const r=w(n,t?.in),a=ra(r,t),s=e-a;return Ee(r,s,t)}class Ca extends _{priority=90;parse(e,t,r){const a=s=>s===0?7:s;switch(t){case"i":case"ii":return E(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return F(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return F(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return F(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return F(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=Oa(e,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Ya extends _{priority=80;parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ze(r),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Na extends _{priority=80;parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ze(r),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class Ea extends _{priority=80;parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(ze(r),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class Wa extends _{priority=70;parse(e,t,r){switch(t){case"h":return Y(W.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class Fa extends _{priority=70;parse(e,t,r){switch(t){case"H":return Y(W.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class La extends _{priority=70;parse(e,t,r){switch(t){case"K":return Y(W.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class Ha extends _{priority=70;parse(e,t,r){switch(t){case"k":return Y(W.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class Ia extends _{priority=60;parse(e,t,r){switch(t){case"m":return Y(W.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return E(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}incompatibleTokens=["t","T"]}class qa extends _{priority=50;parse(e,t,r){switch(t){case"s":return Y(W.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return E(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}incompatibleTokens=["t","T"]}class Aa extends _{priority=30;parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return F(E(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}incompatibleTokens=["t","T"]}class Ra extends _{priority=10;parse(e,t){switch(t){case"X":return J(Z.basicOptionalMinutes,e);case"XX":return J(Z.basic,e);case"XXXX":return J(Z.basicOptionalSeconds,e);case"XXXXX":return J(Z.extendedOptionalSeconds,e);case"XXX":default:return J(Z.extended,e)}}set(e,t,r){return t.timestampIsSet?e:N(e,e.getTime()-Ce(e)-r)}incompatibleTokens=["t","T","x"]}class $a extends _{priority=10;parse(e,t){switch(t){case"x":return J(Z.basicOptionalMinutes,e);case"xx":return J(Z.basic,e);case"xxxx":return J(Z.basicOptionalSeconds,e);case"xxxxx":return J(Z.extendedOptionalSeconds,e);case"xxx":default:return J(Z.extended,e)}}set(e,t,r){return t.timestampIsSet?e:N(e,e.getTime()-Ce(e)-r)}incompatibleTokens=["t","T","X"]}class Qa extends _{priority=40;parse(e){return qt(e)}set(e,t,r){return[N(e,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Sa extends _{priority=20;parse(e){return qt(e)}set(e,t,r){return[N(e,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const Ba={G:new ca,y:new ua,Y:new da,R:new la,u:new fa,Q:new ha,q:new ma,M:new ga,L:new wa,w:new pa,I:new va,d:new _a,D:new Ma,E:new ka,e:new Ta,c:new Pa,i:new Ca,a:new Ya,b:new Na,B:new Ea,h:new Wa,H:new Fa,K:new La,k:new Ha,m:new Ia,s:new qa,S:new Aa,X:new Ra,x:new $a,t:new Qa,T:new Sa},Xa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ga=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ja=/^'([^]*?)'?$/,za=/''/g,Ua=/\S/,Va=/[a-zA-Z]/;function Za(n,e,t,r){const a=()=>N(r?.in||t,NaN),s=ta(),u=r?.locale??s.locale??Nt,f=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,g=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return n?a():w(t,r?.in);const h={firstWeekContainsDate:f,weekStartsOn:g,locale:u},p=[new ia(r?.in,t)],T=e.match(Ga).map(m=>{const v=m[0];if(v in Re){const P=Re[v];return P(m,u.formatLong)}return m}).join("").match(Xa),S=[];for(let m of T){!r?.useAdditionalWeekYearTokens&&Ht(m)&&$e(m,e,n),!r?.useAdditionalDayOfYearTokens&&Lt(m)&&$e(m,e,n);const v=m[0],P=Ba[v];if(P){const{incompatibleTokens:Q}=P;if(Array.isArray(Q)){const B=S.find(G=>Q.includes(G.token)||G.token===v);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${m}\` at the same time`)}else if(P.incompatibleTokens==="*"&&S.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);S.push({token:v,fullToken:m});const A=P.run(n,m,u.match,h);if(!A)return a();p.push(A.setter),n=A.rest}else{if(v.match(Va))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");if(m==="''"?m="'":v==="'"&&(m=Ja(m)),n.indexOf(m)===0)n=n.slice(m.length);else return a()}}if(n.length>0&&Ua.test(n))return a();const L=p.map(m=>m.priority).sort((m,v)=>v-m).filter((m,v,P)=>P.indexOf(m)===v).map(m=>p.filter(v=>v.priority===m).sort((v,P)=>P.subPriority-v.subPriority)).map(m=>m[0]);let R=w(t,r?.in);if(isNaN(+R))return a();const ee={};for(const m of L){if(!m.validate(R,h))return a();const v=m.set(R,ee,h);Array.isArray(v)?(R=v[0],Object.assign(ee,v[1])):R=v}return R}function Ja(n){return n.match(ja)[1].replace(za,"'")}function Ka(n,e){const t=w(n,e?.in);return t.setMinutes(0,0,0),t}function es(n,e){const t=w(n,e?.in);return t.setSeconds(0,0),t}function ts(n,e){const t=w(n,e?.in);return t.setMilliseconds(0),t}function rs(n,e){const t=()=>N(e?.in,NaN),r=e?.additionalDigits??2,a=os(n);let s;if(a.date){const h=is(a.date,r);s=cs(h.restDateString,h.year)}if(!s||isNaN(+s))return t();const u=+s;let f=0,g;if(a.time&&(f=us(a.time),isNaN(f)))return t();if(a.timezone){if(g=ds(a.timezone),isNaN(g))return t()}else{const h=new Date(u+f),p=w(0,e?.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return w(u+f+g,e?.in)}const Te={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ns=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,as=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ss=/^([+-])(\d{2})(?::?(\d{2}))?$/;function os(n){const e={},t=n.split(Te.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Te.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Te.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=Te.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function is(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function cs(n,e){if(e===null)return new Date(NaN);const t=n.match(ns);if(!t)return new Date(NaN);const r=!!t[4],a=ve(t[1]),s=ve(t[2])-1,u=ve(t[3]),f=ve(t[4]),g=ve(t[5])-1;if(r)return gs(e,f,g)?ls(e,f,g):new Date(NaN);{const h=new Date(0);return!hs(e,s,u)||!ms(e,a)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(a,u)),h)}}function ve(n){return n?parseInt(n):1}function us(n){const e=n.match(as);if(!e)return NaN;const t=He(e[1]),r=He(e[2]),a=He(e[3]);return ws(t,r,a)?t*_e+r*xe+a*1e3:NaN}function He(n){return n&&parseFloat(n.replace(",","."))||0}function ds(n){if(n==="Z")return 0;const e=n.match(ss);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return ys(r,a)?t*(r*_e+a*xe):NaN}function ls(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,s=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const fs=[31,null,31,30,31,30,31,31,30,31,30,31];function $t(n){return n%400===0||n%4===0&&n%100!==0}function hs(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(fs[e]||($t(n)?29:28))}function ms(n,e){return e>=1&&e<=($t(n)?366:365)}function gs(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function ws(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function ys(n,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const ps={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};Er._date.override({_id:"date-fns",formats:function(){return ps},parse:function(n,e){if(n===null||typeof n>"u")return null;const t=typeof n;return t==="number"||n instanceof Date?n=w(n):t==="string"&&(typeof e=="string"?n=Za(n,e,new Date,this.options):n=rs(n,this.options)),kt(n)?n.getTime():null},format:function(n,e){return Kn(n,e,this.options)},add:function(n,e,t){switch(t){case"millisecond":return Xe(n,e);case"second":return $r(n,e);case"minute":return Ar(n,e);case"hour":return Hr(n,e);case"day":return Ee(n,e);case"week":return Qr(n,e);case"month":return Be(n,e);case"quarter":return Rr(n,e);case"year":return Sr(n,e);default:return n}},diff:function(n,e,t){switch(t){case"millisecond":return Ge(n,e);case"second":return Zr(n,e);case"minute":return zr(n,e);case"hour":return jr(n,e);case"day":return Tt(n,e);case"week":return Jr(n,e);case"month":return Ct(n,e);case"quarter":return Vr(n,e);case"year":return Kr(n,e);default:return 0}},startOf:function(n,e,t){switch(e){case"second":return ts(n);case"minute":return es(n);case"hour":return Ka(n);case"day":return Ae(n);case"week":return K(n);case"isoWeek":return K(n,{weekStartsOn:+t});case"month":return tn(n);case"quarter":return en(n);case"year":return Yt(n);default:return n}},endOf:function(n,e){switch(e){case"second":return cn(n);case"minute":return sn(n);case"hour":return nn(n);case"day":return Pt(n);case"week":return an(n);case"month":return Ot(n);case"quarter":return on(n);case"year":return rn(n);default:return n}}});var bs=X('<div class="flex justify-center items-center p-8"><span class="loading loading-spinner loading-lg text-primary"></span></div>'),vs=X('<div class="text-center py-4 text-base-content/50"> </div>'),Ds=X('<div><canvas class="w-full h-full"></canvas></div>'),xs=X('<div><div class="card-body p-4 md:p-6"><h2 class="card-title"> </h2> <!> <!></div></div>');function Pe(n,e){Qe(e,!0);let t=se(e,"isLoading",3,!1),r=se(e,"className",3,""),a=se(e,"chartHeight",3,"h-80"),s=se(e,"emptyMessage",3,"No data available"),u=se(e,"showEmpty",3,!1);var f=xs(),g=D(f),h=D(g),p=D(h),T=C(h,2);{var S=m=>{var v=bs();q(m,v)},L=(m,v)=>{{var P=A=>{var B=vs(),G=D(B);fe(()=>ne(G,s())),q(A,B)},Q=A=>{var B=Ds(),G=D(B);fe(me=>{Oe(B,1,me,"svelte-w8nv6h"),qe(G,"id",e.chartId)},[()=>Ie(lt("chart-container",a()))]),q(A,B)};oe(m,A=>{u()?A(P):A(Q,!1)},v)}};oe(T,m=>{t()?m(S):m(L,!1)})}var R=C(T,2);{var ee=m=>{var v=_r(),P=vt(v);Mr(P,()=>e.children),q(m,v)};oe(R,m=>{e.children&&m(ee)})}fe(m=>{Oe(f,1,m,"svelte-w8nv6h"),ne(p,e.title)},[()=>Ie(lt("card bg-base-100 shadow-sm",r()))]),q(n,f),Se()}function _s(n,e){e.onReset()}var Ms=X("<!> <!>",1),ks=X('<span class="loading loading-spinner loading-sm"></span>'),Ts=X('<div class="card bg-base-100 shadow-sm"><div class="card-body card-padding"><h2 class="card-title">Filter Data</h2> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><!> <!></div> <div class="flex justify-end gap-2"><button type="button" class="btn btn-ghost">Reset</button> <button type="submit" class="btn btn-primary"><!> Apply Filters</button></div></form></div></div>');function Ps(n,e){Qe(e,!0);let t=se(e,"filters",15),r=se(e,"isLoading",3,!1);const a=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Custom Range"}];function s(P){P.preventDefault(),e.onSubmit()}var u=Ts(),f=D(u),g=C(D(f),2),h=D(g),p=D(h);Fe(p,{label:"Time Period",id:"timePeriod",children:(P,Q)=>{Wr(P,{id:"timePeriod",get options(){return a},get value(){return t().timePeriod},set value(A){t(t().timePeriod=A,!0)}})},$$slots:{default:!0}});var T=C(p,2);{var S=P=>{var Q=Ms(),A=vt(Q);Fe(A,{label:"From",id:"startDate",children:(G,me)=>{ht(G,{type:"date",id:"startDate",get value(){return t().startDate},set value(ge){t(t().startDate=ge,!0)}})},$$slots:{default:!0}});var B=C(A,2);Fe(B,{label:"To",id:"endDate",children:(G,me)=>{ht(G,{type:"date",id:"endDate",get value(){return t().endDate},set value(ge){t(t().endDate=ge,!0)}})},$$slots:{default:!0}}),q(P,Q)};oe(T,P=>{t().timePeriod==="custom"&&P(S)})}var L=C(h,2),R=D(L);R.__click=[_s,e];var ee=C(R,2),m=D(ee);{var v=P=>{var Q=ks();q(P,Q)};oe(m,P=>{r()&&P(v)})}fe(()=>{R.disabled=r(),ee.disabled=r()}),Dt("submit",g,s),q(n,u),Se()}kr(["click"]);var Os=X('<div class="alert alert-error"><svg class="w-6 h-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),Cs=Ne(`<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" viewBox="0 0 921.998 921.998" fill="currentColor" aria-hidden="true"><path d="M869.694,385.652c-11.246-12.453-132.373-110.907-154.023-117.272c-9.421-2.735-18.892-4.447-28.681-5.164
              c-45.272-3.315-95.213,10.875-126.684,44.794c-2.741,2.956-4.311,4.645-4.311,4.645s1.172-1.996,3.224-5.488
              c9.706-16.365,23.847-30.577,38.989-41.956c6.979-5.243,14.37-9.937,22.088-14.014c2.116-1.118,21.797-11.751,23.12-10.357
              c-0.003-0.003-10.744-11.33-10.744-11.33c-17.273-17.276-35.963-32.167-61.415-32.167c-31.547,0-58.505,19.559-69.472,47.201
              c-9.306-6.917-24.11-11.392-40.788-11.392c-16.678,0-31.481,4.475-40.788,11.392c-10.967-27.643-37.925-47.201-69.472-47.201
              c-25.452,0-44.142,14.891-61.416,32.166c0,0-10.741,11.327-10.744,11.33c1.322-1.395,21.003,9.239,23.12,10.357
              c7.718,4.077,15.109,8.771,22.088,14.014c15.145,11.378,29.283,25.591,38.989,41.956c2.052,3.493,3.224,5.488,3.224,5.488
              s-1.566-1.689-4.31-4.645c-31.471-33.919-81.411-48.109-126.683-44.794c-9.789,0.717-19.26,2.429-28.681,5.164
              c-21.651,6.365-142.778,104.819-154.023,117.272C19.797,421.645,0,469.336,0,521.655c0,112.112,90.886,203,203,203
              c102.56,0,187.34-76.062,201.048-174.851c15.983,11.645,35.663,18.52,56.951,18.52c21.289,0,40.968-6.875,56.951-18.52
              c13.708,98.788,98.487,174.851,201.048,174.851c112.114,0,203-90.888,203-203C921.996,469.336,902.199,421.647,869.694,385.652z
              M198.497,649.155c-67.611,0-122.421-54.811-122.421-122.421s54.81-122.42,122.421-122.42s122.421,54.81,122.421,122.42
              S266.108,649.155,198.497,649.155z M460.997,515.234c-17.833,0-32.29-14.457-32.29-32.29s14.457-32.289,32.29-32.289
              s32.29,14.457,32.29,32.289C493.287,500.777,478.83,515.234,460.997,515.234z M723.497,649.155
              c-67.611,0-122.421-54.811-122.421-122.421s54.81-122.42,122.421-122.42s122.421,54.81,122.421,122.42
              S791.108,649.155,723.497,649.155z"></path></svg>`),Ys=Ne('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-secondary" viewBox="0 0 256 256" fill="currentColor" aria-hidden="true"><path d="M236.4375,73.34375,213.207,57.85547A60.00943,60.00943,0,0,0,96,76V93.19385L1.75293,211.00244A7.99963,7.99963,0,0,0,8,224H112A104.11791,104.11791,0,0,0,216,120V100.28125l20.4375-13.625a7.99959,7.99959,0,0,0,0-13.3125Zm-126.292,67.77783-40,48a7.99987,7.99987,0,0,1-12.291-10.24316l40-48a7.99987,7.99987,0,0,1,12.291,10.24316ZM164,80a12,12,0,1,1,12-12A12,12,0,0,1,164,80Z"></path></svg>'),Ns=Ne('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-accent" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>'),Es=Ne('<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-success" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>'),Ws=X('<div class="flex justify-center items-center p-8"><span class="loading loading-spinner loading-lg text-primary"></span></div>'),Fs=X('<tr><td> </td><td><div class="flex items-center gap-2"><div class="w-8 h-8 rounded-full bg-base-200 overflow-hidden"><img class="w-full h-full object-cover" loading="lazy"/></div> <div><div class="font-medium"> </div> <div class="text-xs opacity-50"> </div></div></div></td><td><div class="flex items-center gap-2"><div class="w-16 h-4 rounded-full overflow-hidden bg-base-200"><div></div></div> <span class="text-sm"> </span></div></td><td> </td></tr>'),Ls=X('<tr><td colspan="4" class="text-center py-4 text-base-content/50">No recent detections found</td></tr>'),Hs=X('<div class="overflow-x-auto"><table class="table w-full"><thead><tr><th>Date & Time</th><th>Species</th><th>Confidence</th><th>Time of Day</th></tr></thead><tbody></tbody></table></div>'),Is=X('<div class="col-span-12 space-y-4" role="region" aria-label="Bird Detection Analytics"><!> <div class="grid gap-4 summary-cards-grid svelte-1yo2ghp"><!> <!> <!> <!></div> <!> <div class="grid gap-4 charts-grid svelte-1yo2ghp"><!> <!></div> <!> <!> <div class="card bg-base-100 shadow-sm"><div class="card-body card-padding svelte-1yo2ghp"><h2 class="card-title">Recent Detections</h2> <!></div></div></div>');function Ss(n,e){Qe(e,!0);let t=ue(!0),r=ue(null),a=ue(ye({timePeriod:"week",startDate:"",endDate:""})),s=ue(ye({totalDetections:0,uniqueSpecies:0,avgConfidence:0,mostCommonSpecies:"",mostCommonCount:0})),u=ue(ye([])),f=ue(ye([])),g=ye({species:[],timeOfDay:[],trend:null,newSpecies:[]}),h={species:null,timeOfDay:null,trend:null,newSpecies:null};function p(o){return o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function T(o){return(o*100).toFixed(1)+"%"}function S(o){return o?new Date(o).toLocaleString():""}function L(o){return o.toISOString().split("T")[0]}function R(){switch(l(a).timePeriod){case"today":return"Today";case"week":return"Last 7 days";case"month":return"Last 30 days";case"90days":return"Last 90 days";case"year":return"Last 12 months";case"custom":return"Custom range";default:return"All time"}}function ee(o,c=1){let i=getComputedStyle(document.documentElement).getPropertyValue(`--${o}`).trim();if(i.startsWith("#")){const d=parseInt(i.slice(1,3),16),y=parseInt(i.slice(3,5),16),b=parseInt(i.slice(5,7),16);return`rgba(${d}, ${y}, ${b}, ${c})`}return i.startsWith("rgb")?i.startsWith("rgba")?i.replace(/rgba\((.+?),\s*[\d.]+\)/,`rgba($1, ${c})`):i.replace(/rgb\((.+?)\)/,`rgba($1, ${c})`):i}function m(){const o=document.documentElement.getAttribute("data-theme");let c,i,d,y;return o==="dark"?(c="rgba(200, 200, 200, 1)",i="rgba(255, 255, 255, 0.1)",d="rgba(55, 65, 81, 0.9)",y="rgba(255, 255, 255, 0.2)"):(c="rgba(55, 65, 81, 1)",i="rgba(0, 0, 0, 0.1)",d="rgba(255, 255, 255, 0.9)",y="rgba(0, 0, 0, 0.2)"),{color:{text:c,grid:i},scales:{grid:{color:i},ticks:{color:c},title:{color:c}},legend:{labels:{color:c}},tooltip:{backgroundColor:d,titleColor:c,bodyColor:c,borderColor:y,borderWidth:1}}}function v(o,c=1){const i=[`rgba(59, 130, 246, ${c})`,`rgba(16, 185, 129, ${c})`,`rgba(245, 158, 11, ${c})`,`rgba(236, 72, 153, ${c})`,`rgba(139, 92, 246, ${c})`,`rgba(239, 68, 68, ${c})`,`rgba(20, 184, 166, ${c})`,`rgba(234, 179, 8, ${c})`,`rgba(99, 102, 241, ${c})`,`rgba(249, 115, 22, ${c})`];if(o<=i.length)return i.slice(0,o);{let d=[...i];for(;d.length<o;){const y=c*.8,b=i.map(O=>O.replace(`${c})`,`${y})`));d=[...d,...b]}return d.slice(0,o)}}function P(){l(a).timePeriod="week";const o=new Date,c=new Date;c.setDate(o.getDate()-6),l(a).endDate=L(o),l(a).startDate=L(c),Q()}async function Q(){V(t,!0),V(r,null);try{let o,c;const i=new Date;switch(l(a).timePeriod){case"today":o=L(i),c=o;break;case"week":c=L(i),o=L(new Date(i.getTime()-6*24*60*60*1e3));break;case"month":c=L(i),o=L(new Date(i.getTime()-29*24*60*60*1e3));break;case"90days":c=L(i),o=L(new Date(i.getTime()-89*24*60*60*1e3));break;case"year":c=L(i),o=L(new Date(i.getTime()-364*24*60*60*1e3));break;case"custom":o=l(a).startDate,c=l(a).endDate;break;case"all":default:o=null,c=null;break}l(a).timePeriod!=="custom"&&(l(a).startDate=o||"",l(a).endDate=c||""),await Promise.allSettled([A(o||"",c||""),B(o||"",c||""),G(),ge(o||"",c||""),Qt(o||"",c||""),St(o||"",c||"")])}catch(o){console.error("General error fetching analytics data:",o),V(r,"Failed to load some analytics data. Please try again later.")}V(t,!1),await ft(),setTimeout(()=>{Bt()},100)}async function A(o,c){try{const i=new URLSearchParams({limit:"100"});o&&i.set("start_date",o),c&&i.set("end_date",c);const d=await fetch(`/api/v2/analytics/species/summary?${i}`);if(!d.ok)throw new Error(`Server responded with ${d.status}`);const y=await d.json(),b=Array.isArray(y)?y:[];let O=0,x=0,H="",I=0;b.forEach(j=>{const U=j.count||0,z=j.avg_confidence||0;O+=U,x+=z*U,U>I&&(I=U,H=j.common_name||"Unknown")}),V(s,{totalDetections:O,uniqueSpecies:b.length,avgConfidence:O>0?x/O:0,mostCommonSpecies:H,mostCommonCount:I},!0)}catch(i){console.error("Error fetching summary data:",i)}}async function B(o,c){try{const i=new URLSearchParams({limit:"10"});o&&i.set("start_date",o),c&&i.set("end_date",c);const d=await fetch(`/api/v2/analytics/species/summary?${i}`);if(!d.ok)throw new Error(`Server responded with ${d.status}`);const y=await d.json();g.species=Array.isArray(y)?y:[]}catch(i){console.error("Error fetching species summary:",i),g.species=[]}}async function G(){try{const o=await fetch("/api/v2/detections/recent?limit=10");if(!o.ok)throw new Error(`Server responded with ${o.status}`);const c=await o.json(),i=Array.isArray(c)?c:[];V(u,i.map(d=>({id:d.id,timestamp:d.timestamp||(d.date&&d.time?`${d.date} ${d.time}`:null),commonName:d.commonName,scientificName:d.scientificName,confidence:d.confidence,timeOfDay:d.timeOfDay||me(d.timestamp||`${d.date} ${d.time}`)})),!0)}catch(o){console.error("Error fetching recent detections:",o),V(u,[],!0)}}function me(o){const i=new Date(o).getHours();return i>=5&&i<8?"Sunrise":i>=8&&i<17?"Day":i>=17&&i<20?"Sunset":"Night"}async function ge(o,c){try{const i=new URLSearchParams;o&&i.set("start_date",o),c&&i.set("end_date",c);const d=await fetch(`/api/v2/analytics/time/distribution/hourly?${i}`);if(!d.ok)throw new Error(`Server responded with ${d.status}`);const y=await d.json();g.timeOfDay=y}catch(i){console.error("Error fetching time of day data:",i),g.timeOfDay=[]}}async function Qt(o,c){try{const i=new URLSearchParams;o&&i.set("start_date",o),c&&i.set("end_date",c);const d=await fetch(`/api/v2/analytics/time/daily?${i}`);if(!d.ok)throw new Error(`Server responded with ${d.status}`);const y=await d.json();g.trend=y}catch(i){console.error("Error fetching trend data:",i),g.trend={data:[]}}}async function St(o,c){try{const i=new URLSearchParams;o&&i.set("start_date",o),c&&i.set("end_date",c);const d=await fetch(`/api/v2/analytics/species/detections/new?${i}`);if(!d.ok)throw new Error(`Server responded with ${d.status}`);const y=await d.json();V(f,Array.isArray(y)?y:[],!0),g.newSpecies=l(f)}catch(i){console.error("Error fetching new species data:",i),V(f,[],!0),g.newSpecies=[]}}function Bt(){console.log("Creating all charts..."),Xt(g.species),Gt(g.timeOfDay),jt(g.trend),zt(g.newSpecies)}function Xt(o){const c=document.getElementById("speciesChart")?.getContext("2d");if(!c){console.error("Species chart canvas not found");return}h.species&&h.species.destroy(),o.sort((O,x)=>x.count-O.count);const i=o.map(O=>O.common_name),d=o.map(O=>O.count),y=v(o.length,.7),b=m();h.species=new le(c,{type:"bar",data:{labels:i,datasets:[{label:"Number of Detections",data:d,backgroundColor:y,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{...b.tooltip,callbacks:{label:O=>`Detections: ${p(O.raw)}`}}},scales:{x:{beginAtZero:!0,title:{display:!0,text:"Number of Detections",color:b.color.text},ticks:{color:b.color.text},grid:{color:b.color.grid}},y:{ticks:{color:b.color.text},grid:{color:b.color.grid}}}}})}function Gt(o){const c=document.getElementById("timeOfDayChart")?.getContext("2d");if(!c){console.error("Time of day chart canvas not found");return}h.timeOfDay&&h.timeOfDay.destroy();const i=["Night (0-4)","Dawn (5-8)","Morning (9-11)","Afternoon (12-16)","Evening (17-19)","Night (20-23)"],d=new Array(i.length).fill(0);Array.isArray(o)&&o.forEach(O=>{const x=O.hour;let H;x>=0&&x<5?H=0:x>=5&&x<9?H=1:x>=9&&x<12?H=2:x>=12&&x<17?H=3:x>=17&&x<20?H=4:H=5,d[H]+=O.count});const y=["rgba(55, 48, 163, 0.7)","rgba(251, 146, 60, 0.7)","rgba(250, 204, 21, 0.7)","rgba(56, 189, 248, 0.7)","rgba(251, 113, 133, 0.7)","rgba(42, 36, 122, 0.7)"],b=m();h.timeOfDay=new le(c,{type:"bar",data:{labels:i,datasets:[{label:"Detections",data:d,backgroundColor:y,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{...b.tooltip,callbacks:{label:O=>`Detections: ${p(O.raw)}`}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Detections",color:b.color.text},ticks:{color:b.color.text},grid:{color:b.color.grid}},x:{title:{display:!0,text:"Time Period",color:b.color.text},ticks:{color:b.color.text},grid:{color:b.color.grid}}}}})}function jt(o){const c=document.getElementById("trendChart")?.getContext("2d");if(!c){console.error("Trend chart canvas not found");return}h.trend&&h.trend.destroy();const i=o?.data||[],d={};Array.isArray(i)&&i.forEach(I=>{const j=I.date;d[j]||(d[j]=0),d[j]+=I.count});const y=Object.keys(d).sort(),b=y,O=y.map(I=>d[I]),x=m(),H=ee("primary",1);h.trend=new le(c,{type:"line",data:{labels:b,datasets:[{label:"Daily Detections",data:O,fill:!1,borderColor:H,tension:.1,pointBackgroundColor:H}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:x.color.text}},tooltip:{...x.tooltip,callbacks:{label:I=>`Detections: ${p(I.raw)}`}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Detections",color:x.color.text},ticks:{color:x.color.text},grid:{color:x.color.grid}},x:{title:{display:!0,text:"Date",color:x.color.text},ticks:{color:x.color.text},grid:{color:x.color.grid}}}}})}function zt(o){const i=document.getElementById("newSpeciesChart")?.getContext("2d");if(!i){console.error("New species chart canvas not found");return}if(h.newSpecies&&(h.newSpecies.destroy(),h.newSpecies=null),!Array.isArray(o)||o.length===0)return;const d=M=>{if(!M||typeof M!="string")return null;const $=new Date(M);return isNaN($.getTime())?null:($.setDate($.getDate()+1),$.toISOString().split("T")[0])},y=o.filter(M=>{const $=d(M.first_heard_date);return M.first_heard_date&&typeof M.first_heard_date=="string"&&$});if(y.length===0)return;y.sort((M,$)=>new Date($.first_heard_date).getTime()-new Date(M.first_heard_date).getTime());const O=y.slice(0,20);O.sort((M,$)=>new Date(M.first_heard_date).getTime()-new Date($.first_heard_date).getTime());const x=O.map(M=>M.common_name||M.scientific_name),H=O.map(M=>{const $=new Date(M.first_heard_date).getTime(),we=new Date(d(M.first_heard_date)||M.first_heard_date).getTime();return[$,we]}),I=m(),j=v(x.length,.7);let U,z;if(l(a).timePeriod!=="all"&&(l(a).startDate&&(U=new Date(l(a).startDate).getTime()),l(a).endDate&&(z=new Date(l(a).endDate).getTime())),!U&&y.length>0&&(U=new Date(y[0].first_heard_date).getTime()),!z&&y.length>0){const M=d(y[y.length-1].first_heard_date);z=new Date(M||y[y.length-1].first_heard_date).getTime()}z&&(z=z+24*60*60*1e3),h.newSpecies=new le(i,{type:"bar",data:{labels:x,datasets:[{label:"First Heard On",data:H,backgroundColor:j,borderWidth:1,barPercentage:.5,categoryPercentage:.7}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{...I.tooltip,callbacks:{title:M=>M[0].label,label:M=>{const $=M.dataset.data[M.dataIndex];return`First Heard: ${new Date($[0]).toISOString().split("T")[0]}`}}}},scales:{x:{type:"time",time:{unit:"day",tooltipFormat:"yyyy-MM-dd",displayFormats:{day:"MMM d"}},min:U,max:z,title:{display:!0,text:"First Heard Date",color:I.color.text},ticks:{color:I.color.text},grid:{color:I.color.grid}},y:{type:"category",ticks:{color:I.color.text},grid:{display:!1}}}}})}Tr(async()=>{try{const i=window.getComputedStyle(document.body).fontFamily;i&&(le.defaults.font.family=i)}catch(i){console.error("Could not set Chart.js default font family:",i)}const o=new Date,c=new Date;c.setDate(o.getDate()-30),l(a).endDate=L(o),l(a).startDate=L(c),await ft(),Q()}),Pr(()=>{Object.values(h).forEach(o=>{o&&o.destroy()})});var Ve=Is(),Ze=D(Ve);{var Ut=o=>{var c=Os(),i=C(D(c),2),d=D(i);fe(()=>ne(d,l(r))),q(o,c)};oe(Ze,o=>{l(r)&&o(Ut)})}var Je=C(Ze,2),Ke=D(Je);const Vt=te(()=>p(l(s).totalDetections)),Zt=te(R);ke(Ke,{title:"Total Detections",get value(){return l(Vt)},get subtitle(){return l(Zt)},iconClassName:"bg-primary/20",get isLoading(){return l(t)},icon:c=>{var i=Cs();q(c,i)},$$slots:{icon:!0}});var et=C(Ke,2);const Jt=te(()=>p(l(s).uniqueSpecies)),Kt=te(R);ke(et,{title:"Unique Species",get value(){return l(Jt)},get subtitle(){return l(Kt)},iconClassName:"bg-secondary/20",get isLoading(){return l(t)},icon:c=>{var i=Ys();q(c,i)},$$slots:{icon:!0}});var tt=C(et,2);const er=te(()=>T(l(s).avgConfidence)),tr=te(R);ke(tt,{title:"Avg. Confidence",get value(){return l(er)},get subtitle(){return l(tr)},iconClassName:"bg-accent/20",get isLoading(){return l(t)},icon:c=>{var i=Ns();q(c,i)},$$slots:{icon:!0}});var rr=C(tt,2);const nr=te(()=>l(s).mostCommonSpecies||"None"),ar=te(()=>l(s).mostCommonCount>0?p(l(s).mostCommonCount)+" detections":"");ke(rr,{title:"Most Common",get value(){return l(nr)},get subtitle(){return l(ar)},iconClassName:"bg-success/20",valueClassName:"text-lg truncate max-w-[150px]",get isLoading(){return l(t)},icon:c=>{var i=Es();q(c,i)},$$slots:{icon:!0}});var rt=C(Je,2);Ps(rt,{get isLoading(){return l(t)},onSubmit:Q,onReset:P,get filters(){return l(a)},set filters(o){V(a,o,!0)}});var nt=C(rt,2),at=D(nt);Pe(at,{title:"Top 10 Species",chartId:"speciesChart",get isLoading(){return l(t)}});var sr=C(at,2);Pe(sr,{title:"Detections by Time of Day",chartId:"timeOfDayChart",get isLoading(){return l(t)}});var st=C(nt,2);Pe(st,{title:"Detection Trends",chartId:"trendChart",get isLoading(){return l(t)}});var ot=C(st,2);const or=te(()=>!l(t)&&l(f).length===0);Pe(ot,{title:"New Species Detected",chartId:"newSpeciesChart",get isLoading(){return l(t)},get showEmpty(){return l(or)},emptyMessage:"No new species detected in this period.",chartHeight:"h-auto"});var ir=C(ot,2),cr=D(ir),ur=C(D(cr),2);{var dr=o=>{var c=Ws();q(o,c)},lr=o=>{var c=Hs(),i=D(c),d=C(D(i));Or(d,21,()=>l(u),Yr,(y,b,O)=>{var x=Fs();Oe(x,1,Ie(O%2===0?"bg-base-100":"bg-base-200"));var H=D(x),I=D(H),j=C(H),U=D(j),z=D(U),M=D(z),$=C(z,2),we=D($),fr=D(we),hr=C(we,2),mr=D(hr),it=C(j),gr=D(it),ct=D(gr),ut=D(ct);let dt;var wr=C(ct,2),yr=D(wr),pr=C(it),br=D(pr);fe((We,vr,Dr,xr)=>{ne(I,We),qe(M,"src",`/api/v2/media/species-image?name=${vr??""}`),qe(M,"alt",l(b).commonName||"Unknown species"),ne(fr,l(b).commonName||"Unknown"),ne(mr,l(b).scientificName||""),Oe(ut,1,`h-full ${l(b).confidence>=.8?"bg-success":l(b).confidence>=.4?"bg-warning":"bg-error"}`),dt=Cr(ut,"",dt,Dr),ne(yr,xr),ne(br,l(b).timeOfDay||"Unknown")},[()=>S(l(b).timestamp),()=>encodeURIComponent(l(b).scientificName),()=>({width:`${l(b).confidence*100}%`}),()=>T(l(b).confidence)]),Dt("error",M,We=>We.currentTarget.src="/assets/images/bird-placeholder.svg"),q(y,x)},y=>{var b=Ls();q(y,b)}),q(o,c)};oe(ur,o=>{l(t)?o(dr):o(lr,!1)})}q(n,Ve),Se()}export{Ss as default};
